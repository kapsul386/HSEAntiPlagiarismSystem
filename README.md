
````markdown
# AntiPlagiarism System

Микросервисное приложение для приёма студенческих работ и автоматического определения плагиата.  
Проект выполнен в рамках дисциплины «Конструирование программного обеспечения», домашняя работа №3.

---

## Основные возможности

- Приём файлов с указанием студента и задания
- Генерация криптографического отпечатка содержимого (SHA-256)
- Проверка работ на плагиат по совпадению отпечатков
- Получение истории отчётов по заданию
- Развёртывание всех сервисов через Docker Compose

---

## Архитектура

Приложение состоит из трёх микросервисов:

| Сервис | Назначение |
|--------|------------|
| Gateway | Точка входа. Принимает запрос, взаимодействует с другими сервисами и формирует общий результат |
| FileStoring | Сохраняет файлы и отдаёт метаданные |
| Analysis | Хранит историю работ и выполняет проверку на плагиат |

### Схема взаимодействия

Клиент → Gateway  
→ FileStoring (сохранение файла)  
→ Analysis (проверка отпечатка)  
← Gateway (возврат результата клиенту)

---

## Логика определения плагиата

При загрузке файла:

1. Gateway получает содержимое файла
2. Вычисляет SHA-256 `ContentFingerprint`
3. Регистрирует сдачу в Analysis
4. Analysis сравнивает отпечаток с предыдущими сдачами по тому же заданию:
   - если найдена более ранняя сдача *другого студента* с тем же отпечатком → плагиат
   - иначе — оригинальная работа

Пример результата анализа:

```json
{
  "isPlagiarism": true,
  "plagiarismSourceStudentId": "student-1"
}
````

---

## Используемые технологии

| Область          | Стек                                  |
| ---------------- | ------------------------------------- |
| Backend          | .NET 8, C#, Minimal API               |
| Контейнеризация  | Docker, Docker Compose                |
| Хранение данных  | In-memory + файловая система (volume) |
| Тестирование API | Postman                               |

---

## Запуск проекта

Требования:

* Docker Desktop установлен

Команды запуска из корня проекта:

```bash
docker compose build
docker compose up -d
```

Проверка контейнеров:

```bash
docker ps
```

Сервис Gateway доступен по адресу:

```
http://localhost:5000
```

Остановка:

```bash
docker compose down
```

---

## API тестирование

Готовая Postman-коллекция:

```
docs/AntiPlagiarismSystem.postman_collection.json
```

Содержит запросы:

| Операция                   | Метод | URL                           |
| -------------------------- | ----- | ----------------------------- |
| Отправить работу           | POST  | /works                        |
| Получить отчёты по заданию | GET   | /works/{assignmentId}/reports |

---

## Структура репозитория

```
HSEAntiPlagiarismSystem/
├─ Gateway/
├─ FileStoring/
├─ Analysis/
├─ docs/
│  └─ AntiPlagiarismSystem.postman_collection.json
├─ docker-compose.yml
└─ README.md
```


